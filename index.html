<html>
<head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="Source-Code" content="https://github.com/ZazerConer/Video-Player-with-Playlist">
        <title>Demo (Video Player With Playlist)</title>

        <style>
            * {
                margin: auto;
                padding: 0;
                box-sizing: border-box;
            }
            body {
                background: #000;
                padding: 20px;
                width: 100%;
                height: 100%;
                text-align: center;
            }
            h2 {
                font-size: 30px;
                color: #1e88e5;
            }
            .column {
                float: left;
                width: 37.55%;
                height: 60px;
                margin-right: 15px;
            }
            .row:after {
                content: "";
                display: table;
                clear: both;
            }
            .dropbtn {
                background-color: #292626;
                color: silver;
                padding: 5px;
                margin: 8px;
                font-size: 18px;
                cursor: pointer;
                margin-left: 185px;
                float: right;
                outline: none;
                display: inline-block;
                border: 1px solid siver;
                border-radius: 8px;
            }
            .dropbtn:hover,
            .dropbtn:focus {
                background-color: none;
            }
            .dropdown {
                position: relative;
                display: inline-block;
            }
            .dropdown-content {
                display: none;
                position: absolute;
                background-color: #212121;
                min-width: 150px;
                padding: 5px;
                margin-top: 49px;
                margin-left: 70px;
                box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
                z-index: 1;
                outline: none;
                border: 2px solid silver;
                border-radius: 15px;
            }
            .dropdown-content a {
                color: #fff;
                font-size: 22px;
                padding: 10px;
                text-decoration: none;
                display: block;
                border-bottom: 1px solid #000;
                border-radius: 10px;
                box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            }
            .dropdown-content a:hover {
                background-color: lightgrey;
            }
            .show {
                display: block;
            }
            .container * {
                margin: 0;
                padding: 0;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
                -webkit-transition: 0.5s;
                -o-transition: 0.5s;
                transition: 0.5s;
            }
            .container *:after,
            .container *:before {
                margin: 0;
                padding: 0;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
            }
            .container {
                max-width: 550px;
                background: #292626;
                margin: auto;
                right: 1px;
                position: relative;
                height: 280px;
                border-radius: 15px;
            }
            .vidcontainer {
                width: 100%;
                height: 100%;
                float: right;
                position: relative;
                overflow: hidden;
            }
            video {
                position: relative;
                width: 100%;
                color: #212121;
                border-top: 1px solid #212121;
                border-radius: 15px;
            }
            .videolist {
                float: left;
                width: 100%;
                height: 100%;
                position: relative;
            }
            .vids::-webkit-scrollbar {
                width: 3px;
                border-radius: 50px;
            }
            .vids::-webkit-scrollbar-thumb {
                background-color: #1e88e5;
                border-radius: 30px;
                width: 30px;
            }
            .vids::-webkit-scrollbar-thumb:hover {
                background-color: #fff;
            }
            .vids::-webkit-scrollbar-thumb:active {
                background-color: #ccc;
            }
            .vids {
                background-color: #292626;
                max-height: 420px;
                min-height: 420px;
                overflow-y: scroll;
                list-style: none;
                direction: rtl;
            }
            .vids a {
                text-decoration: none;
                color: #fff;
                font-size: 22px;
                display: block;
                border-bottom: 1px solid #000;
                border-radius: 12px;
                padding: 15px;
                margin: 15px;
                box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.4);
            }
            .controllers {
                position: absolute;
                width: 100%;
                height: 100%;
                background-color: #292626;
            }
            .controllers button {
                border: 1px solid #e7e7e7;
                background-color: #ffffff;
                color: #1e88e5;
                width: 30px;
                border-radius: 10px;
                margin: 5px;
                box-shadow: 1px 1px 3px #4c4c4c;
                outline: none;
                font-size: 18px;
                display: inline-block;
                float: left;
            }
            .controllers button:focus {
                box-shadow: 1px 0px 7px #4c4c4c;
                border-color: #ff8d00;
                color: #ff8d00;
                background-color: #4c4c4c;
            }
            .btnPlay:after {
                content: "\f04b";
                font-family: "FontAwesome";
            }
            .paused:after {
                content: "\f04c";
            }
            .sound:after {
                content: "\f027";
                font-family: "FontAwesome";
            }
            .sound2:after {
                content: "\f028";
            }
            .muted:after {
                content: "\f026";
            }
            .btnFS:after {
                content: "\f065";
                font-family: "FontAwesome";
            }
            .playing {
                background-color: #1e88e5;
                border: 1px solid #1e88e5 !important;
                -webkit-transition: 0s;
                -o-transition: 0s;
                transition: 0s;
            }
            .playing:after {
                content: "\f01d";
                font-family: "FontAwesome";
                color: #fff;
                float: left;
            }
            .topControl {
                position: absolute;
                display: block;
                width: 100%;
                bottom: 50px;
                background-color: #fff;
                z-index: 1;
            }
            .progress span {
                height: 100%;
                position: absolute;
                top: 0;
                left: 0;
                display: block;
            }
            .timeBar {
                z-index: 10;
                width: 0;
                background: #ff8d00;
            }
            .bufferBar {
                z-index: 5;
                width: 0;
                background: #eee;
            }
            .time {
                width: 12%;
                float: right;
                text-align: center;
                font-size: 11px;
                line-height: 12px;
                right: -12%;
                opacity: 0;
                position: absolute;
            }
            .topControl:hover .time {
                right: 0;
                opacity: 1;
            }
            .topControl:hover .progress {
                width: 88%;
                height: 12px;
            }
            .volume {
                position: relative;
                cursor: pointer;
                width: 70px;
                height: 10px;
                float: left;
                margin-top: 10px;
                margin-right: 15px;
                background-color: lightgrey;
                border-radius: 30px;
            }
            .volumeBar {
                display: block;
                height: 100%;
                position: absolute;
                top: 0;
                left: 0;
                background-color: #1e88e5;
                z-index: 10px;
            }
            .loading {
                width: 0px;
                background-color: rgba(255, 141, 0, 0.5);
                height: 405px;
                position: absolute;
                top: 0;
            }
            i.fa.fa-spinner.fa-spin {
                height: 50px;
                width: 50px;
                font-size: 70px;
                color: #1e88e5;
                text-shadow: 0px 0px 8px grey;
                top: 110px;
                left: 175px;
                position: absolute;
            }
            .disabled {
                pointer-events: none;
                cursor: not-allowed;
                background-color: #c2c2c2 !important;
            }
            ul.speedcnt {
                display: none;
                position: absolute;
                right: 30px;
                bottom: 60px;
                background-color: #fff;
                border-radius: 5px;
                list-style: none;
                -webkit-transition: 0s;
                -o-transition: 0s;
                transition: 0s;
            }
            ul.speedcnt li {
                text-align: center;
                font-family: "verdana", tahoma, serif;
                font-size: 13px;
                padding: 5px 20px;
                cursor: pointer;
                display: block;
                border-bottom: 1px solid #ccc;
            }
            ul.speedcnt li:last-child {
                border-bottom: none;
            }
            ul.speedcnt li.selected {
                background-color: rgba(255, 141, 0, 0.6);
            }

            /*--------------------------------------------*/

            @media screen and (max-width: 550px) {
                .svg-git {
                    display: none;
                }
                .div-cont {
                    position: absolute;
                    margin: auto;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    max-width: 550px;
                    max-height: 720px;
                }
                .menu {
                    position: absolute;
                    top: 0;
                    right: 5px;
                }
                .credits {
                    display: none;
                }
            }
            @media screen and (min-width: 550px) {
                .div-cont {
                    position: absolute;
                    margin: auto;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    max-width: 550px;
                }
                .vids {
                    background-color: #292626;
                    max-height: 720px;
                    min-height: 720px;
                    overflow-y: scroll;
                    list-style: none;
                    direction: rtl;
                }
                .menu {
                    position: absolute;
                    top: 10px;
                    right: 5px;
                }
            }
            @media screen and (min-width: 860px) {
                .credits {
                    position: fixed;
                    bottom: 15px;
                    right: 15px;
                    display: flex;
                }
            }
        </style>
    </head>
    <body>
        <a class="svg-git" href="https://github.com/ZazerConer/Video-Player-with-Playlist">
            <div style="position: absolute; top: 20px; left: 25px; color: grey;">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </div>
        </a>

        <div class="credits">
            <h4 style="color: #1e88e5;">ZazerConer's <a style="color: #f44336; text-decoration: none;" href="https://github.com/ZazerConer/Video-Player-with-Playlist">Github</a></h4>
        </div>

        <div class="div-cont">
            <!-- Top title -->
            <div class="row">
                <div class="column">
                    <h2>DEMO</h2>
                </div>
                <!-- Drop menu other page list -->
                <div class="menu">
                    <div class="dropdown">
                        <button onclick="myFunction()" class="dropbtn">MENU</button>
                        <div id="myDropdown" class="dropdown-content">
                            <!-- List page -->
                            <p>
                                <a href="#">Page 1</a>
                            </p>
                            <p>
                                <a href="#">Page 2</a>
                            </p>
                            <p>
                                <a href="#">Page 3</a>
                            </p>
                            <p>
                                <a href="#">Page 4</a>
                            </p>
                            <p>
                                <a href="#">Page 5</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bootstrap control button -->
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
            <div class="container">
                <div class="vidcontainer">
                    <video id="myVid" src="https://livestream2.zazerconer.workers.dev/c/nbcnews.m3u8"></video>
                    <!-- Top line -->
                    <div class="topControl">
                        <div class="progress">
                            <span class="bufferBar"></span>
                            <span class="timeBar"></span>
                        </div>
                        <div class="time"><span class="current">00:00</span> / <span class="duration">00:00</span></div>
                    </div>
                    <!-- Bottom line - control button -->
                    <div class="controllers">
                        <button class="btnPlay" title="Play/Pause video"></button>
                        <button class="prevvid disabled" title="Previous video">
                            <i class="fa fa-step-forward fa-rotate-180"></i>
                        </button>
                        <button class="nextvid" title="Next video">
                            <i class="fa fa-step-forward"></i>
                        </button>
                        <button class="sound sound2 btn" title="Mute/Unmute sound"></button>
                        <div class="volume" title="Set volume">
                            <span class="volumeBar" style="width: 70%;"></span>
                        </div>
                        <button class="btnFS" style="float: right;" title="full screen"></button>
                        <ul class="speedcnt">
                            <li class="spdx50">1.5</li>
                            <li class="spdx25">1.25</li>
                            <li class="spdx1 selected">Normal</li>
                            <li class="spdx050">0.5</li>
                        </ul>
                    </div>
                    <!-- Loading video spinner -->
                    <div class="loading" style="display: none;">
                        <i class="fa fa-spinner fa-spin"></i>
                    </div>
                </div>
                <center>
                    <div class="videolist">
                        <nav class="vids">
                            <!-- Start list video -->
                            <a class="link playing" href="https://livecdn.fptplay.net/hda1/vtv1hd_vhls.smil/chunklist_b5000000.m3u8">VTV1</a>

                        </nav>
                    </div>
                </center>
            </div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

        <script>
            $(document).ready(function () {
                var vid = $("#myVid");
                $(vid).attr("src", $("a.link:first").attr("href"));
                $("a.link:first").addClass("playing");
                $("a.link").on("click", function (event) {
                    event.preventDefault();
                    $(vid).attr("src", $(this).attr("href"));
                    $(".vids a").removeClass("playing");
                    $(this).addClass("playing");
                    $(".btnPlay").addClass("paused");
                    vid[0].play();
                    if ($("a.link:first").hasClass("playing")) {
                        $(".prevvid").addClass("disabled");
                    } else {
                        $(".prevvid").removeClass("disabled");
                    }
                    if ($("a.link:last").hasClass("playing")) {
                        $(".nextvid").addClass("disabled");
                    } else {
                        $(".nextvid").removeClass("disabled");
                    }
                });
                vid.on("canplay", function () {
                    $(".loading").fadeOut(100);
                });
                var completeloaded = false;
                vid.on("canplaythrough", function () {
                    completeloaded = true;
                });
                vid.on("ended", function () {
                    $(".btnPlay").removeClass("paused");
                    vid[0].pause();
                });
                vid.on("seeking", function () {
                    if (!completeloaded) {
                        $(".loading").fadeIn(200);
                    }
                });
                vid.on("seeked", function () {});
                vid.on("waiting", function () {
                    $(".loading").fadeIn(200);
                });
                vid.on("loadedmetadata", function () {
                    $(".current").text(timeFormat(0));
                    $(".duration").text(timeFormat(vid[0].duration));
                    if (vid[0].muted) {
                        updateVolume(0, 0);
                    } else {
                        updateVolume(0, 0.7);
                    }
                });
                var startBuffer = function () {
                    var currentBuffer = vid[0].buffered.end(0);
                    var maxduration = vid[0].duration;
                    var perc = (100 * currentBuffer) / maxduration;
                    $(".bufferBar").css("width", perc + "%");
                    if (currentBuffer < maxduration) {
                        setTimeout(startBuffer, 500);
                    }
                };
                vid.on("timeupdate", function () {
                    var currentPos = vid[0].currentTime;
                    var maxduration = vid[0].duration;
                    var perc = (100 * currentPos) / maxduration;
                    $(".timeBar").css("width", perc + "%");
                    $(".current").text(timeFormat(currentPos));
                });
                vid.on("click", function () {
                    playpause();
                });
                $(".btnPlay").on("click", function () {
                    playpause();
                });
                var playpause = function () {
                    if (vid[0].paused || vid[0].ended) {
                        $(".btnPlay").addClass("paused");
                        vid[0].play();
                    } else {
                        $(".btnPlay").removeClass("paused");
                        vid[0].pause();
                    }
                };
                var timeDrag = false;
                $(".progress").on("mousedown", function (e) {
                    timeDrag = true;
                    updatebar(e.pageX);
                });
                $(document).on("mouseup", function (e) {
                    if (timeDrag) {
                        timeDrag = false;
                        updatebar(e.pageX);
                    }
                });
                $(document).on("mousemove", function (e) {
                    if (timeDrag) {
                        updatebar(e.pageX);
                    }
                });
                var updatebar = function (x) {
                    var progress = $(".progress");

                    var maxduration = vid[0].duration;
                    var position = x - progress.offset().left;
                    var percentage = (100 * position) / progress.width();
                    if (percentage > 100) {
                        percentage = 100;
                    }
                    if (percentage < 0) {
                        percentage = 0;
                    }
                    $(".timeBar").css("width", percentage + "%");
                    vid[0].currentTime = (maxduration * percentage) / 100;
                };
                $(".sound").click(function () {
                    vid[0].muted = !vid[0].muted;
                    $(this).toggleClass("muted");
                    if (vid[0].muted) {
                        $(".volumeBar").css("width", 0);
                    } else {
                        $(".volumeBar").css("width", vid[0].volume * 100 + "%");
                    }
                });
                var volumeDrag = false;
                $(".volume").on("mousedown", function (e) {
                    volumeDrag = true;
                    vid[0].muted = false;
                    $(".sound").removeClass("muted");
                    updateVolume(e.pageX);
                });
                $(document).on("mouseup", function (e) {
                    if (volumeDrag) {
                        volumeDrag = false;
                        updateVolume(e.pageX);
                    }
                });
                $(document).on("mousemove", function (e) {
                    if (volumeDrag) {
                        updateVolume(e.pageX);
                    }
                });
                var updateVolume = function (x, vol) {
                    var volume = $(".volume");
                    var percentage;
                    if (vol) {
                        percentage = vol * 100;
                    } else {
                        var position = x - volume.offset().left;
                        percentage = (100 * position) / volume.width();
                    }
                    if (percentage > 100) {
                        percentage = 100;
                    }
                    if (percentage < 0) {
                        percentage = 0;
                    }
                    $(".volumeBar").css("width", percentage + "%");
                    vid[0].volume = percentage / 100;
                    if (vid[0].volume == 0) {
                        $(".sound").removeClass("sound2").addClass("muted");
                    } else if (vid[0].volume > 0.5) {
                        $(".sound").removeClass("muted").addClass("sound2");
                    } else {
                        $(".sound").removeClass("muted").removeClass("sound2");
                    }
                };
                $(".spdx50").on("click", function () {
                    fastfowrd(this, 1.5);
                });
                $(".spdx25").on("click", function () {
                    fastfowrd(this, 1.25);
                });
                $(".spdx1").on("click", function () {
                    fastfowrd(this, 1);
                });
                $(".spdx050").on("click", function () {
                    fastfowrd(this, 0.5);
                });
                var fastfowrd = function (obj, spd) {
                    $(".speedcnt li").removeClass("selected");
                    $(obj).addClass("selected");
                    vid[0].playbackRate = spd;
                    vid[0].play();
                    $("ul.speedcnt").fadeOut("fast");
                    $(".btnPlay").addClass("paused");
                };
                $(".btnspeed").click(function () {
                    $("ul.speedcnt").slideToggle(100);
                });

                $(".btnFS").on("click", function () {
                    if ($.isFunction(vid[0].webkitEnterFullscreen)) {
                        vid[0].webkitEnterFullscreen();
                    } else if ($.isFunction(vid[0].mozRequestFullScreen)) {
                        vid[0].mozRequestFullScreen();
                    } else {
                        alert("Your browsers doesn't support fullscreen");
                    }
                });
                $(".btnLight").click(function () {
                    $(this).toggleClass("lighton");
                    if (!$(this).hasClass("lighton")) {
                        $("body").append('<div class="overlay"></div>');
                        $(".overlay").css({
                            position: "absolute",
                            width: 100 + "%",
                            height: $(document).height(),
                            background: "#000",
                            opacity: 0.9,
                            top: 0,
                            left: 0,
                            "z-index": 999,
                        });
                        $(".vidcontainer").css({
                            "z-index": 1000,
                        });
                    } else {
                        $(".overlay").remove();
                    }
                });
                $(".prevvid").click(function () {
                    $(vid).attr("src", $(".playing").prev().attr("href"));
                    vid[0].play();
                    $(".playing").prev().addClass("playing");
                    $(".playing:last").removeClass("playing");
                    $(".btnPlay").addClass("paused");
                    $(".nextvid").removeClass("disabled");
                    if ($("a.link:first").hasClass("playing")) {
                        $(this).addClass("disabled");
                    } else {
                        $(this).removeClass("disabled");
                    }
                });
                $(".nextvid").click(function () {
                    $(vid).attr("src", $(".playing").next().attr("href"));
                    vid[0].play();
                    $(".playing").next().addClass("playing");
                    $(".playing:first").removeClass("playing");
                    $(".btnPlay").addClass("paused");
                    $(".prevvid").removeClass("disabled");
                    if ($("a.link:last").hasClass("playing")) {
                        $(this).addClass("disabled");
                    } else {
                        $(this).removeClass("disabled");
                    }
                });
                var timeFormat = function (seconds) {
                    var m = Math.floor(seconds / 60) < 10 ? "0" + Math.floor(seconds / 60) : Math.floor(seconds / 60);
                    var s = Math.floor(seconds - m * 60) < 10 ? "0" + Math.floor(seconds - m * 60) : Math.floor(seconds - m * 60);
                    return m + ":" + s;
                };
                $(".closeme , .bigplay").click(function () {
                    $("this,.ads,.bigplay").fadeOut(200);
                    vid[0].play();
                    $(".btnPlay").addClass("paused");
                });
            });
            function myFunction() {
                document.getElementById("myDropdown").classList.toggle("show");
            }
            window.onclick = function (event) {
                if (!event.target.matches(".dropbtn")) {
                    var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains("show")) {
                            openDropdown.classList.remove("show");
                        }
                    }
                }
            };
        </script>
    

</body>
</html>
